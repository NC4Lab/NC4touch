Logging script output to /home/nc4/TouchscreenApparatus/src/drivers/nc4_ili9488/logs/verify_nc4_ili9488.log


=== Starting Overlay and Driver Validation ===

==== Validating Overlay ====

Overlay file found: /boot/firmware/overlays/nc4_ili9488.dtbo

---- Filtered dtc Warnings & Errors (non-RPi-specific) ----
<stdout>: Warning (mboxes_property): /soc/firmware:mboxes: cell 0 is not a phandle reference
-----------------------------------------------------------
Note: Full dtc output (including Pi-specific warnings) is in /tmp/dtc_raw_output.txt

---- Checking overlay nodes in the live device tree ----
Node 'pitft0@0' found at path: /proc/device-tree/soc/spi@7e215080/pitft0@0
Node 'pitft0_pins' found at path: /proc/device-tree/soc/gpio@7e200000/pitft0_pins
Node 'pitft1@1' found at path: /proc/device-tree/soc/spi@7e215080/pitft1@1
Node 'pitft1_pins' found at path: /proc/device-tree/soc/gpio@7e200000/pitft1_pins
Node 'pitft2@2' found at path: /proc/device-tree/soc/spi@7e215080/pitft2@2
Node 'pitft2_pins' found at path: /proc/device-tree/soc/gpio@7e200000/pitft2_pins
Node 'backlight' found in decompiled Device Tree (TMP_DTC_RAW).
-----------------------------------------------------------

---- Listing all nodes under /proc/device-tree/soc/spi@7e215080 for verification: ----
#address-cells
clocks
compatible
cs-gpios
interrupts
name
phandle
pinctrl-0
pinctrl-names
pitft0@0
pitft1@1
pitft2@2
reg
#size-cells
spidev@0
spidev@1
spidev@2
status
-----------------------------------------------------------

Checking kernel logs for overlay application:
Overlay is logged in kernel messages.

Verifying overlay references in config.txt:
Overlay is referenced in config.txt.

==== Validating Driver ====

Checking if the driver is found:
Driver file found: /lib/modules/6.6.62+rpt-rpi-v8/extra/nc4_ili9488.ko

Checking if the driver module is loaded:
Driver module is loaded.

==== Verifying DRM Cards Setup ====

---- Listing DRM cards and connectors ----
card0
card0-SPI-1
card1
card1-SPI-2
card2
card2-SPI-3
version

---- Details for each DRM card ----
Inspecting card0:
card0-SPI-1
dev
device
power
subsystem
uevent
MAJOR=226
MINOR=0
DEVNAME=dri/card0
DEVTYPE=drm_minor

Inspecting card0-SPI-1:
connector_id
device
dpms
edid
enabled
modes
power
status
subsystem
uevent
DEVTYPE=drm_connector

Inspecting card1:
card1-SPI-2
dev
device
power
subsystem
uevent
MAJOR=226
MINOR=1
DEVNAME=dri/card1
DEVTYPE=drm_minor

Inspecting card1-SPI-2:
connector_id
device
dpms
edid
enabled
modes
power
status
subsystem
uevent
DEVTYPE=drm_connector

Inspecting card2:
card2-SPI-3
dev
device
power
subsystem
uevent
MAJOR=226
MINOR=2
DEVNAME=dri/card2
DEVTYPE=drm_minor

Inspecting card2-SPI-3:
connector_id
device
dpms
edid
enabled
modes
power
status
subsystem
uevent
DEVTYPE=drm_connector

-----------------------------------------------------------

==== Verifying Framebuffers ====

---- Listing framebuffers ----
fb0
fb1
fb2
fbcon

---- Details for each framebuffer ----
Inspecting fb0:
bits_per_pixel
blank
bl_curve
console
cursor
dev
device
mode
modes
name
pan
power
rotate
state
stride
subsystem
uevent
virtual_size
MAJOR=29
MINOR=0
DEVNAME=fb0

Inspecting fb1:
bits_per_pixel
blank
bl_curve
console
cursor
dev
device
mode
modes
name
pan
power
rotate
state
stride
subsystem
uevent
virtual_size
MAJOR=29
MINOR=1
DEVNAME=fb1

Inspecting fb2:
bits_per_pixel
blank
bl_curve
console
cursor
dev
device
mode
modes
name
pan
power
rotate
state
stride
subsystem
uevent
virtual_size
MAJOR=29
MINOR=2
DEVNAME=fb2

Inspecting fbcon:
cursor_blink
power
rotate
rotate_all
subsystem
uevent

-----------------------------------------------------------

==== Checking Driver Probe and Device Binding for SPI Devices ====

==== Checking Driver Probe and Device Binding for SPI Devices ====
Driver probe for spi1.0 detected in logs.
spi1.0 is correctly bound to nc4_ili9488 driver.
Driver probe for spi1.1 detected in logs.
spi1.1 is correctly bound to nc4_ili9488 driver.
Driver probe for spi1.2 detected in logs.
spi1.2 is correctly bound to nc4_ili9488 driver.

==== Validating GPIO Pin States ====

Checking GPIO 18:
GPIO 18: level=1 func=OUTPUT pull=DOWN
Checking GPIO 17:
GPIO 17: level=1 func=OUTPUT pull=DOWN
Checking GPIO 16:
GPIO 16: level=1 func=OUTPUT pull=DOWN
Checking GPIO 12:
GPIO 12: level=1 func=OUTPUT pull=DOWN
Checking GPIO 13:
GPIO 13: level=1 func=OUTPUT pull=DOWN
Checking GPIO 22:
GPIO 22: level=1 func=OUTPUT pull=DOWN
Checking GPIO 23:
GPIO 23: level=1 func=OUTPUT pull=DOWN
Checking GPIO 24:
GPIO 24: level=1 func=OUTPUT pull=DOWN
Checking GPIO 25:
GPIO 25: level=0 func=OUTPUT pull=DOWN
Checking GPIO 27:
GPIO 27: level=1 func=OUTPUT pull=DOWN

=== Validation Complete ===
