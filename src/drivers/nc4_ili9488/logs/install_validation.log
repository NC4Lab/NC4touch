Logging script output to /home/nc4/TouchscreenApparatus/src/drivers/nc4_ili9488/logs/install_validation.log


=== Starting Overlay and Driver Validation ===

==== Validating Overlay ====

Overlay file found: /boot/firmware/overlays/nc4_ili9488.dtbo

---- Filtered dtc Warnings & Errors (non-RPi-specific) ----
<stdout>: Warning (mboxes_property): /soc/firmware:mboxes: cell 0 is not a phandle reference
-----------------------------------------------------------
Note: Full dtc output (including Pi-specific warnings) is in /tmp/dtc_raw_output.txt

---- Checking overlay nodes in the live device tree ----
Node 'pitft0@0' found at path: /proc/device-tree/soc/spi@7e204000/pitft0@0
Node 'pitft0_pins' found at path: /proc/device-tree/soc/gpio@7e200000/pitft0_pins
Node 'pitft1@1' found at path: /proc/device-tree/soc/spi@7e204000/pitft1@1
Node 'pitft1_pins' found at path: /proc/device-tree/soc/gpio@7e200000/pitft1_pins
Node 'backlight' found in decompiled Device Tree (TMP_DTC_RAW).
-----------------------------------------------------------

---- Listing all nodes under /proc/device-tree/soc/spi@7e204000 for verification: ----
#address-cells
clocks
compatible
cs-gpios
dma-names
dmas
interrupts
name
phandle
pinctrl-0
pinctrl-names
pitft0@0
pitft1@1
reg
#size-cells
spidev@0
spidev@1
status
-----------------------------------------------------------

Checking kernel logs for overlay application:
Overlay is logged in kernel messages.

Verifying overlay references in config.txt:
Overlay is referenced in config.txt.

==== Validating Driver ====

Checking if the driver is found:
Driver file found: /lib/modules/6.6.62+rpt-rpi-v8/extra/nc4_ili9488.ko

Checking if the driver module is loaded:
Driver module is loaded.

==== Verifying DRM Cards Setup ====

---- Listing DRM cards and connectors ----
card0
card0-SPI-1
card1
card1-SPI-2
version

---- Details for each DRM card ----
Inspecting card0:
card0-SPI-1
dev
device
power
subsystem
uevent
MAJOR=226
MINOR=0
DEVNAME=dri/card0
DEVTYPE=drm_minor

Inspecting card0-SPI-1:
connector_id
device
dpms
edid
enabled
modes
power
status
subsystem
uevent
DEVTYPE=drm_connector

Inspecting card1:
card1-SPI-2
dev
device
power
subsystem
uevent
MAJOR=226
MINOR=1
DEVNAME=dri/card1
DEVTYPE=drm_minor

Inspecting card1-SPI-2:
connector_id
device
dpms
edid
enabled
modes
power
status
subsystem
uevent
DEVTYPE=drm_connector

-----------------------------------------------------------

==== Verifying Framebuffers ====

---- Listing framebuffers ----
fb0
fb1
fbcon

---- Details for each framebuffer ----
Inspecting fb0:
bits_per_pixel
blank
bl_curve
console
cursor
dev
device
mode
modes
name
pan
power
rotate
state
stride
subsystem
uevent
virtual_size
MAJOR=29
MINOR=0
DEVNAME=fb0

Inspecting fb1:
bits_per_pixel
blank
bl_curve
console
cursor
dev
device
mode
modes
name
pan
power
rotate
state
stride
subsystem
uevent
virtual_size
MAJOR=29
MINOR=1
DEVNAME=fb1

Inspecting fbcon:
cursor_blink
power
rotate
rotate_all
subsystem
uevent

-----------------------------------------------------------

==== Verifying Framebuffer Configurationss ====

Framebuffer configuration for /dev/fb0:

mode "320x480"
    geometry 320 480 320 480 32
    timings 0 0 0 0 0 0 0
    rgba 8/16,8/8,8/0,0/0
endmode


Framebuffer configuration for /dev/fb1:

mode "320x480"
    geometry 320 480 320 480 32
    timings 0 0 0 0 0 0 0
    rgba 8/16,8/8,8/0,0/0
endmode



==== Checking Driver Probe and Device Binding for SPI0 Devices ====
Driver probe for spi0.0 detected in logs.
spi0.0 is correctly bound to nc4_ili9488 driver.
Driver probe for spi0.1 detected in logs.
spi0.1 is correctly bound to nc4_ili9488 driver.

==== Validating GPIO Pin States ====

Checking GPIO 8 (LCD_0 CS (CE0)):
GPIO 8: level=1 func=OUTPUT pull=UP

Checking GPIO 7 (LCD_1 CS (CE1)):
GPIO 7: level=1 func=OUTPUT pull=UP

Checking GPIO 27 (Backlight):
GPIO 27: level=1 func=OUTPUT pull=DOWN

Checking GPIO 25 (LCD_0 RES):
GPIO 25: level=1 func=OUTPUT pull=DOWN

Checking GPIO 24 (LCD_0 DC):
GPIO 24: level=1 func=OUTPUT pull=DOWN

Checking GPIO 23 (LCD_1 RES):
GPIO 23: level=1 func=OUTPUT pull=DOWN

Checking GPIO 22 (LCD_1 DC):
GPIO 22: level=1 func=OUTPUT pull=DOWN

Checking GPIO 10 (MOSI):
GPIO 10: level=0 alt=0 func=SPI0_MOSI pull=DOWN

Checking GPIO 11 (SCLK):
GPIO 11: level=0 alt=0 func=SPI0_SCLK pull=DOWN


=== Validation Complete ===
